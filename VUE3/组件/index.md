# 组件
简介：组件就是一组DOM元素的封装
# 组件的实现原理
## 渲染组件
- 用户角度：一个有状态组件就是一个选项对象；
- 渲染器角度：一个组件则是一个特殊类型的虚拟 DOM 节点；
## 组件状态与自更新
自更新：将整个渲染任务包装到一个 effect 中
## 组件实例与组件的生命周期
组件实例：一个状态集合，维护着组件运行过程中的所有信息
## props与组件的被动更新
- 为组件传递的 props 数据，即组件的 vnode.props 对象
- 组件选项对象中定义的 props 选项，即 MyComponent.props对象。
## setup函数的作用和实现
- 在组件的整个生命周期中,setup函数只会在被挂载时执行一次,他的返回值可以有两种情况
(1) 返回一个函数，该函数将作为组件的 render 函数
(2) 返回一个对象，该对象中包含的数据将暴露给模板使用
## 组件事件与emit的实现
emit用来发射组件的自定义事件
## 插槽的工作原理与实现
组件模板中的插槽内容 --(编译为)--> 插槽函数 ----> 渲染插槽内容
插槽函数的返回值:具体的插槽内容
## 注册生命周期
currentInstance: 存储当前组件实例
初始化组件并执行组件的setup函数之前,先将currentInstance设置为当前组件实例,再执行组件的setup函数;
# 异步组件与函数式组件
异步: 以异步方式加载并渲染一个组件
## 异步组件要解决的问题
作用:
- 解决应用初始化加载时间过长的问题
- 支持按需加载或懒加载
## 异步组件的实现原理
- 封装 defineAsyncComponent 函数
    - 该函数本质上是一个高阶组件,他的返回值是一个包装组件
    - 包装组件根据加载器的状态来决定渲染什么内容
- 超时与Err or 组件   
- 延迟与Loading组件
- 重试机制
## 函数式组件
本质：普通函数，返回值为虚拟DOM
- 没有自身状态，但可以接收外部传入的props
实现对函数式组件的兼容:
- 在mountComponent 函数内检查组件的类型
- 如果是函数式组件，则直接将组件函数作为组件选项对象的render 选项
- 并将组件函数的静态 props 属性作为组件的 props 选项即可，其他逻辑保持不变
# 内件